---
name: intent_router
description: Route incoming support text into one intent label.
version: 0.1.0
author: runllm
max_context_window: 6000
input_schema:
  type: object
  properties:
    text:
      type: string
  required: [text]
  additionalProperties: false
output_schema:
  type: object
  properties:
    intent:
      type: string
      enum: [billing, technical, refund, sales, other]
    confidence:
      type: number
      minimum: 0
      maximum: 1
    rationale:
      type: string
  required: [intent, confidence, rationale]
  additionalProperties: false
llm:
  model: ollama/granite4:3b
llm_params:
  temperature: 0
  format: json
recommended_models:
  - ollama/granite4:3b
  - ollama/llama3.1:8b
tags: [routing, support]
---
Classify the user message into exactly one intent label.

Return ONLY JSON object with keys:
- intent (billing|technical|refund|sales|other)
- confidence (0..1)
- rationale

Message:
{{input.text}}

<<<RECOVERY>>>
Previous output failed schema. Return a JSON object with exact keys intent, confidence, rationale.
